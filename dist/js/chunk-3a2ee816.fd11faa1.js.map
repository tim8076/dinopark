{"version":3,"sources":["webpack:///./src/components/front/MenuCart.vue","webpack:///./src/components/front/MenuCart.vue?69f5","webpack:///./src/views/front/List.vue","webpack:///./src/views/front/List.vue?0bb1"],"names":["class","scope","role","colspan","size","cartList","cart","index","key","id","src","product","imageUrl","alt","title","productSpecs","spec","chosedSpec","href","deleteCartItem","loadingIndex","qty","type","updateCart","couponed","$toCurrency","Math","round","total","final_total","useCoupon","placeholder","couponCode","addCoupon","isCouponing","length","deleteAllCartItems","to","props","String","default","emits","data","finalTotal","methods","getCartList","api","this","$http","get","then","res","success","carts","$emit","sendTotal","swal","message","catch","err","console","log","delete","emitter","emit","swalComfirm","willDelete","isConfirmed","put","product_id","post","code","created","on","unmounted","off","render","active","isLoading","cartLength","updateTotal","discount","slides-per-view","space-between","loop","scrollbar","swiperSetting","breakpoints","recommendProducts","product-data","addToCart","allProducts","draggable","768","slidesPerView","spaceBetween","1025","components","MenuCart","Card","computed","getAllProducts","products","getRecommends","getRandomInt","max","floor","random","arrSet","Set","i","num","add","forEach","push","fianlTotal"],"mappings":"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","file":"js/chunk-3a2ee816.fd11faa1.js","sourcesContent":["<template>\r\n    <div class=\"cart\">\r\n        <div >\r\n           <table class=\"table\"\r\n                :class=\"{ 'border' : size === 'lg' }\">\r\n              <thead class=\"table__head\">\r\n                  <tr :class=\"{ 'fs-5' : size === 'lg' }\">\r\n                      <th scope=\"col\" class=\"column__1\">商品</th>\r\n                      <th scope=\"col\" class=\"column__2\">數量</th>\r\n                      <th scope=\"col\" class=\"column__3\">價格</th>\r\n                      <th scope=\"col\" class=\"column__4\"></th>\r\n                  </tr>\r\n              </thead>\r\n              <tbody>\r\n                  <tr v-for=\"(cart, index) in cartList\" :key=\"cart.id\">\r\n                      <th scope=\"row\"\r\n                          class=\"cart__title\">\r\n                          <img v-if=\"size === 'lg'\"\r\n                              :src=\"cart.product.imageUrl\"\r\n                              alt=\"product-image\">\r\n                          <div class=\"text\">\r\n                             {{ cart.product.title }}\r\n                              <span v-for=\"spec in cart.productSpecs\"\r\n                                    :key=\"spec\">\r\n                                  ({{ spec.chosedSpec }})\r\n                              </span>\r\n                          </div>\r\n                          <a href=\"#\"\r\n                            @click.prevent=\"deleteCartItem(cart.id, index)\"\r\n                            class=\"hide-for-pad\">\r\n                            <div class=\"spinner-border text-primary spinner-border-sm\"\r\n                                role=\"status\"\r\n                                v-if=\"loadingIndex === index\">\r\n                              <span class=\"visually-hidden delete__icon\">Loading...</span>\r\n                            </div>\r\n                            <span class=\"material-icons delete__icon\" v-else>delete</span>\r\n                          </a>\r\n                      </th>\r\n                      <td class=\"qty__rows\">\r\n                          <div class=\"input-group input-group-sm qty__buttons\">\r\n                              <button class=\"btn btn-primary-light\"\r\n                                      type=\"button\"\r\n                                      id=\"button-addon1\"\r\n                                      :class=\"{ 'disabled': cart.qty === 1 }\"\r\n                                      @click=\"updateCart(cart, cart.qty-1, index )\">\r\n                                  <span class=\"material-icons text-white\">remove</span>\r\n                              </button>\r\n                              <input  type=\"text\"\r\n                                      class=\"form-control cart__num\"\r\n                                      v-model.number=\"cart.qty\"\r\n                                      @change=\"updateCart(cart, cart.qty, index)\">\r\n                              <button class=\"btn btn-primary-light\"\r\n                                      type=\"button\"\r\n                                      id=\"button-addon1\"\r\n                                      @click=\"updateCart(cart, cart.qty+1, index )\">\r\n                                  <span class=\"material-icons text-white\">add</span>\r\n                              </button>\r\n                          </div>\r\n                      </td>\r\n                      <td class=\"price__row\">\r\n                        <p class=\"mb-0\"\r\n                           :class=\"{ 'text-decoration-line-through' : couponed }\">\r\n                          NT$ {{ $toCurrency(Math.round(cart.total)) }}\r\n                        </p>\r\n                        <p class=\"text-primary mb-0\"\r\n                           v-if=\"couponed\">\r\n                          NT$ {{ $toCurrency(Math.round(cart.final_total)) }}\r\n                        </p>\r\n                      </td>\r\n                      <td class=\"delete-cell\">\r\n                        <a href=\"#\"\r\n                            @click.prevent=\"deleteCartItem(cart.id, index)\">\r\n                            <div class=\"spinner-border text-primary spinner-border-sm\"\r\n                                role=\"status\"\r\n                                v-if=\"loadingIndex === index\">\r\n                              <span class=\"visually-hidden\">Loading...</span>\r\n                            </div>\r\n                            <span class=\"material-icons\" v-else>delete</span>\r\n                        </a>\r\n                      </td>\r\n                  </tr>\r\n                   <tr v-if=\"size === 'lg'\">\r\n                    <td colspan=\"4\">\r\n                      <a href=\"#\"\r\n                          v-show=\"!useCoupon\"\r\n                          @click.prevent=\"useCoupon = !useCoupon\">\r\n                          使用優惠代碼\r\n                      </a>\r\n                      <div class=\"input-group mt-2 coupon__inputs\"\r\n                            v-show=\"useCoupon\">\r\n                        <input type=\"text\"\r\n                              class=\"form-control w-25\"\r\n                              placeholder=\"輸入優惠券代碼\"\r\n                              v-model=\"couponCode\">\r\n                        <button class=\"btn btn-outline-primary\"\r\n                                type=\"button\"\r\n                                id=\"button-addon2\"\r\n                                @click=\"addCoupon\">\r\n                                <div  class=\"spinner-border text-primary spinner-border-sm\"\r\n                                      role=\"status\"\r\n                                      v-if=\"isCouponing\">\r\n                                  <span class=\"visually-hidden\">Loading...</span>\r\n                                </div>\r\n                                套用\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                  <tr class=\"total__row\">\r\n                    <td colspan=\"4\">\r\n                      <button class=\"btn btn-outline-primary\"\r\n                              type=\"button\"\r\n                              :class=\"{ 'disabled' : cartList.length === 0 }\"\r\n                              @click=\"deleteAllCartItems\">\r\n                        清空購物車\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n              </tbody>\r\n          </table>\r\n        </div>\r\n        <div class=\"buttons\">\r\n            <router-link  class=\"btn btn-primary w-100 fw-bolder\"\r\n                          v-if=\"cartList.length !== 0 && size !== 'lg'\"\r\n                          to=\"/dino-park/cart/list\">\r\n              結帳去\r\n            </router-link>\r\n            <router-link class=\"btn btn-primary w-100 fw-bolder\"\r\n                         v-else-if=\"cartList.length === 0 && size === 'sm'\"\r\n                         to=\"/dino-park/store\">來去逛逛吧\r\n            </router-link>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    size: {\r\n      type: String,\r\n      default: 'sm'\r\n    }\r\n  },\r\n  emits: ['update-num', 'send-total'],\r\n  data () {\r\n    return {\r\n      cartList: [],\r\n      total: 0,\r\n      finalTotal: 0,\r\n      loadingIndex: null,\r\n      couponCode: '',\r\n      isCouponing: false,\r\n      useCoupon: false,\r\n      couponed: false\r\n    }\r\n  },\r\n  methods: {\r\n    getCartList () {\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`\r\n      this.$http.get(api)\r\n        .then(res => {\r\n          if (res.data.success) {\r\n            this.cartList = res.data.data.carts\r\n            this.finalTotal = res.data.data.final_total\r\n            this.total = res.data.data.total\r\n            this.$emit('update-num', this.cartList.length)\r\n            this.sendTotal()\r\n          } else {\r\n            this.swal(res.data.message, 'error')\r\n          }\r\n        })\r\n        .catch(err => console.log(err))\r\n    },\r\n    deleteCartItem (id, index) {\r\n      this.loadingIndex = index\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${id}`\r\n      this.$http.delete(api)\r\n        .then(res => {\r\n          if (res.data.success) {\r\n            this.swal(res.data.message)\r\n            this.emitter.emit('add-cart')\r\n          } else {\r\n            this.swal(res.data.message, 'error')\r\n          }\r\n          this.loadingIndex = null\r\n        })\r\n        .catch(err => console.log(err))\r\n    },\r\n    deleteAllCartItems () {\r\n      this.swalComfirm('確定清空購物車?')\r\n        .then(willDelete => {\r\n          if (willDelete.isConfirmed) {\r\n            const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/carts`\r\n            this.$http.delete(api)\r\n              .then(res => {\r\n                if (res.data.success) {\r\n                  this.swal(res.data.message)\r\n                  this.emitter.emit('add-cart')\r\n                } else {\r\n                  this.swal(res.data.message, 'error')\r\n                }\r\n              })\r\n              .catch(err => console.log(err))\r\n          }\r\n        })\r\n    },\r\n    updateCart (cart, qty, index) {\r\n      if (qty < 1) {\r\n        this.swal('商品數量小於1', 'error')\r\n        qty = 1\r\n      }\r\n      this.loadingIndex = index\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${cart.id}`\r\n      this.$http.put(api, {\r\n        data: { product_id: cart.product.id, qty: qty }\r\n      })\r\n        .then(res => {\r\n          if (res.data.success) {\r\n            this.swal(res.data.message)\r\n            this.emitter.emit('add-cart')\r\n          } else {\r\n            this.swal(res.data.message, 'error')\r\n          }\r\n          this.loadingIndex = null\r\n        })\r\n        .catch(err => console.log(err))\r\n    },\r\n    addCoupon () {\r\n      this.isCouponing = true\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/coupon`\r\n      this.$http.post(api, {\r\n        data: {\r\n          code: this.couponCode\r\n        }\r\n      })\r\n        .then(res => {\r\n          if (res.data.success) {\r\n            this.getCartList()\r\n            this.swal(res.data.message)\r\n            this.couponed = true\r\n          } else {\r\n            this.swal(res.data.message, 'error')\r\n          }\r\n          this.isCouponing = false\r\n        })\r\n        .catch(err => console.log(err))\r\n    },\r\n    sendTotal () {\r\n      this.$emit('send-total',\r\n        this.finalTotal,\r\n        this.cartList.length,\r\n        this.total,\r\n        this.couponed)\r\n    }\r\n  },\r\n  created () {\r\n    this.getCartList()\r\n    this.emitter.on('add-cart', () => {\r\n      this.getCartList()\r\n    })\r\n  },\r\n  unmounted () {\r\n    this.emitter.off('add-cart', () => {\r\n      this.getCartList()\r\n    })\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./MenuCart.vue?vue&type=template&id=40f8f444\"\nimport script from \"./MenuCart.vue?vue&type=script&lang=js\"\nexport * from \"./MenuCart.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\r\n   <div class=\"cart_list py-6\">\r\n        <Loading v-model:active=\"isLoading\">\r\n          <div class=\"outter-spinner\">\r\n              <div class=\"inner-spinner\">\r\n                  <div>\r\n                  </div>\r\n              </div>\r\n          </div>\r\n        </Loading>\r\n       <div class=\"container\">\r\n          <div class=\"progress__area mb-6 py-6\">\r\n             <div class=\"progress__bar\">\r\n                <div class=\"dotbox active\">\r\n                   <div class=\"dot\">1</div>\r\n                   <span>購物車</span>\r\n                </div>\r\n                <div class=\"dotbox\">\r\n                   <div class=\"dot\">2</div>\r\n                   <span>填寫資料</span>\r\n                </div>\r\n                <div class=\"dotbox\">\r\n                   <div class=\"dot\">3</div>\r\n                   <span>訂單確認</span>\r\n                </div>\r\n             </div>\r\n          </div>\r\n          <div class=\"subtotal__area\"\r\n               v-if=\"cartLength\">\r\n            <MenuCart :size=\"'lg'\"\r\n              class=\"mb-6\"\r\n              @send-total=\"updateTotal\" />\r\n            <div class=\"row\">\r\n              <div class=\"col-md-7\">\r\n                <div class=\"coupon\">\r\n                    <h2 class=\"cart-title\">可使用優惠券</h2>\r\n                    <div class=\"coupon__list py-1 px-3 border\">\r\n                      <table class=\"table\">\r\n                        <thead class=\"coupon__head\">\r\n                            <tr>\r\n                                <th scope=\"col\" class=\"p-1\">名稱</th>\r\n                                <th scope=\"col\" class=\"p-1\">代碼</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr>\r\n                                <td>盛大開幕好禮大放送</td>\r\n                                <td>opening</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>全站88折</td>\r\n                                <td>888</td>\r\n                            </tr>\r\n                        </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"col-md-5\">\r\n                <div class=\"subtotal\">\r\n                    <h2 class=\"cart-title\">訂單小計</h2>\r\n                    <div class=\"subtotal__list py-1 px-3 border\">\r\n                      <table class=\"table\">\r\n                        <tbody>\r\n                            <tr>\r\n                              <td>小計</td>\r\n                              <td class=\"text-end\">\r\n                                NT$ {{ $toCurrency(Math.round(this.total)) }}元\r\n                              </td>\r\n                            </tr>\r\n                            <tr>\r\n                              <td>折扣</td>\r\n                              <td class=\"text-end\">\r\n                                NT$ {{ $toCurrency(Math.round(this.discount)) }}元\r\n                              </td>\r\n                            </tr>\r\n                            <tr>\r\n                              <td>合計</td>\r\n                              <td class=\"text-end\">\r\n                                NT$ {{ $toCurrency(Math.round(this.finalTotal)) }}元\r\n                              </td>\r\n                            </tr>\r\n                          </tbody>\r\n                        </table>\r\n                        <router-link to=\"/dino-park/cart/order\"\r\n                                    class=\"btn btn-lg btn-primary d-block w-75 mx-auto text-white my-3\">\r\n                                    前往結帳\r\n                        </router-link>\r\n                    </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"no__product\" v-else>\r\n             <div class=\"icon text-center\">\r\n               <span class=\"material-icons shop__icon\">shopping_cart</span>\r\n               <p class=\"fw-bold\">您的購物車是空的</p>\r\n               <p>加點商品進來吧</p>\r\n               <router-link to=\"/dino-park/store\"\r\n                            class=\"btn btn-lg btn-primary d-block w-25 mx-auto text-white my-3\">\r\n                            來去逛逛\r\n              </router-link>\r\n             </div>\r\n          </div>\r\n          <div class=\"mb-6\">\r\n            <h3 class=\"border-bottom border-2 fs-3 pb-2 fw-bold mb-6 text-primary\">推薦商品</h3>\r\n            <swiper :slides-per-view=\"1\"\r\n                    :space-between=\"30\"\r\n                    :loop=\"true\"\r\n                    :scrollbar=\"swiperSetting.scrollbar\"\r\n                    :breakpoints=\"swiperSetting.breakpoints\"\r\n                    class=\"mb-6\">\r\n                <swiper-slide v-for=\"product in recommendProducts\"\r\n                              :key=\"product.id\">\r\n                      <Card :product-data=\"product\"\r\n                            @add-cart=\"addToCart\" />\r\n                </swiper-slide>\r\n            </swiper>\r\n          </div>\r\n       </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport MenuCart from '@/components/front/MenuCart.vue'\r\nimport Card from '@/components/front/Card.vue'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      isLoading: false,\r\n      useCoupon: false,\r\n      allProducts: [],\r\n      recommendProducts: [],\r\n      total: 0,\r\n      finalTotal: 0,\r\n      cartLength: 0,\r\n      swiperSetting: {\r\n        scrollbar: {\r\n          draggable: true\r\n        },\r\n        breakpoints: {\r\n          768: {\r\n            slidesPerView: 2,\r\n            spaceBetween: 30\r\n          },\r\n          1025: {\r\n            slidesPerView: 4,\r\n            spaceBetween: 30\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n  components: {\r\n    MenuCart,\r\n    Card\r\n  },\r\n  computed: {\r\n    discount () {\r\n      return this.total - this.finalTotal\r\n    }\r\n  },\r\n  methods: {\r\n    getCartList () {\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`\r\n      this.$http.get(api)\r\n        .then(res => {\r\n          if (res.data.success) {\r\n            this.cartLength = res.data.data.carts.length\r\n            this.finalTotal = res.data.data.final_total\r\n          } else {\r\n            this.swal(res.data.message, 'error')\r\n          }\r\n        })\r\n        .catch(err => console.log(err))\r\n    },\r\n    getAllProducts () {\r\n      this.isLoading = true\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products/all`\r\n      this.$http.get(api)\r\n        .then(res => {\r\n          if (res.data.success) {\r\n            this.allProducts = res.data.products\r\n            this.getRecommends()\r\n          } else {\r\n            this.swal(res.data.message, 'error')\r\n          }\r\n          this.isLoading = false\r\n        })\r\n        .catch(err => console.log(err))\r\n    },\r\n    getRandomInt (max) {\r\n      return Math.floor(Math.random() * max)\r\n    },\r\n    getRecommends () {\r\n      const arrSet = new Set([])\r\n      for (let i = 0; arrSet.size < 4; i++) {\r\n        const num = this.getRandomInt(this.allProducts.length)\r\n        arrSet.add(num)\r\n      }\r\n      arrSet.forEach(index => {\r\n        this.recommendProducts.push(this.allProducts[index])\r\n      })\r\n    },\r\n    addToCart (id) {\r\n      this.isLoading = true\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`\r\n      this.$http.post(api, {\r\n        data: {\r\n          product_id: id,\r\n          qty: 1\r\n        }\r\n      })\r\n        .then(res => {\r\n          if (res.data.success) {\r\n            this.swal(res.data.message)\r\n            this.emitter.emit('add-cart')\r\n          } else {\r\n            this.swal(res.data.message, 'error')\r\n          }\r\n          this.isLoading = false\r\n        })\r\n        .catch(err => console.log(err))\r\n    },\r\n    updateTotal (fianlTotal, cartLength, total, useCoupon) {\r\n      this.finalTotal = fianlTotal\r\n      this.cartLength = cartLength\r\n      this.total = total\r\n      this.useCoupon = useCoupon\r\n    }\r\n  },\r\n  created () {\r\n    this.getAllProducts()\r\n    this.getCartList()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./List.vue?vue&type=template&id=4676aaa1\"\nimport script from \"./List.vue?vue&type=script&lang=js\"\nexport * from \"./List.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}