(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c7c9833"],{"07ac":function(e,t,c){var r=c("23e7"),o=c("6f53").values;r({target:"Object",stat:!0},{values:function(e){return o(e)}})},"159b":function(e,t,c){var r=c("da84"),o=c("fdbc"),a=c("17c2"),s=c("9112");for(var n in o){var d=r[n],i=d&&d.prototype;if(i&&i.forEach!==a)try{s(i,"forEach",a)}catch(l){i.forEach=a}}},"17c2":function(e,t,c){"use strict";var r=c("b727").forEach,o=c("a640"),a=o("forEach");e.exports=a?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},"2cf6":function(e,t,c){"use strict";c.r(t);c("b0c0");var r=c("7a23"),o=Object(r["createVNode"])("div",{class:"outter-spinner"},[Object(r["createVNode"])("div",{class:"inner-spinner"},[Object(r["createVNode"])("div")])],-1),a={class:"checkout"},s={key:0,class:"container py-6 mh-100vh"},n=Object(r["createStaticVNode"])('<div class="progress__area mb-6 py-6"><div class="progress__bar"><div class="dotbox active"><div class="dot">1</div><span>購物車</span></div><div class="dotbox active"><div class="dot">2</div><span>填寫資料</span></div><div class="dotbox active"><div class="dot">3</div><span>訂單確認</span></div></div></div>',1),d={class:"row flex-column px-2 mb-6"},i={class:"col-md-6 mx-auto border border-3 p-0 mb-6"},l=Object(r["createVNode"])("h2",{class:"cart-title"},"訂單小計",-1),b={class:"p-3 p-md-6"},u={class:"table"},j=Object(r["createVNode"])("thead",null,[Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("th",{scope:"col"},"編號"),Object(r["createVNode"])("th",{scope:"col"},"商品"),Object(r["createVNode"])("th",{scope:"col"},"數量"),Object(r["createVNode"])("th",{scope:"col"},"小計")])],-1),O={scope:"row"},p={class:"text-primary"},f=Object(r["createVNode"])("td",{colspan:"2"},null,-1),N=Object(r["createVNode"])("td",null,"折抵",-1),V={colspan:"4",class:"text-primary fw-bold fs-5 text-end pe-4"},h={class:"col-md-6 mx-auto border border-3 p-0"},v=Object(r["createVNode"])("h2",{class:"cart-title"},"訂購人資訊",-1),m={class:"p-3 p-md-6"},y={class:"table"},g={scope:"row"},k=Object(r["createTextVNode"])("姓名: "),w={class:"ms-3 fw-normal"},x={scope:"row"},S=Object(r["createTextVNode"])("信箱: "),B={class:"ms-3 fw-normal"},D={scope:"row"},L=Object(r["createTextVNode"])("電話: "),T={class:"ms-3 fw-normal"},_={scope:"row"},C=Object(r["createTextVNode"])("地址: "),E={class:"ms-3 fw-normal"},$={scope:"row"},F=Object(r["createTextVNode"])("付款方式: "),P={class:"ms-3 fw-normal"},q={scope:"row"},I=Object(r["createTextVNode"])("付款狀態: "),J={class:"ms-3 fw-normal"},M={key:1,class:"container my-9"},U={class:"row justify-content-center"},z={class:"col-md-8"},A={class:"p-6"},G=Object(r["createVNode"])("h2",{class:"fs-1 fw-bolder text-primary-light d-flex justify-content-center align-items-center"},[Object(r["createVNode"])("span",{class:"material-icons md-48"},"check_circle"),Object(r["createTextVNode"])(" 付款成功 ")],-1),H={class:"info-area border-bottom mb-6"},K=Object(r["createVNode"])("p",{class:"fs-4 text-center"},"感謝您的購買，您訂單將於三日內配送",-1),Q=Object(r["createVNode"])("h3",{class:"mb-3 fw-bold fs-4"},"購買品項",-1),R={class:"info-area border-bottom mb-6"},W=Object(r["createVNode"])("h3",{class:"mb-3 fw-bold fs-4"},"運送地址",-1),X={class:"mb-2"},Y={class:"info-area border-bottom mb-6"},Z=Object(r["createVNode"])("h3",{class:"mb-3 fw-bold fs-4"},"付款資訊",-1),ee={class:"mb-2"},te={class:"mb-2"},ce={class:"d-flex justify-content-center"},re=Object(r["createTextVNode"])(" 再去逛逛 ");function oe(e,t,c,oe,ae,se){var ne=Object(r["resolveComponent"])("Loading"),de=Object(r["resolveComponent"])("router-link");return Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],null,[Object(r["createVNode"])(ne,{active:ae.isLoading,"onUpdate:active":t[1]||(t[1]=function(e){return ae.isLoading=e})},{default:Object(r["withCtx"])((function(){return[o]})),_:1},8,["active"]),Object(r["createVNode"])("div",a,[ae.isPaid?(Object(r["openBlock"])(),Object(r["createBlock"])("div",M,[Object(r["createVNode"])("div",U,[Object(r["createVNode"])("div",z,[Object(r["createVNode"])("div",A,[G,Object(r["createVNode"])("div",H,[K,Q,(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(se.productList,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])("p",{key:e.id},[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.product.title)+" ",1),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.productSpecs,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])("span",{key:e}," ("+Object(r["toDisplayString"])(e.chosedSpec)+") ",1)})),128)),Object(r["createTextVNode"])(" * "+Object(r["toDisplayString"])(e.qty),1)])})),128))]),Object(r["createVNode"])("div",R,[W,Object(r["createVNode"])("p",X,Object(r["toDisplayString"])(ae.order.user.address),1)]),Object(r["createVNode"])("div",Y,[Z,Object(r["createVNode"])("p",ee,"地址: "+Object(r["toDisplayString"])(ae.order.user.address),1),Object(r["createVNode"])("p",te,"姓名: "+Object(r["toDisplayString"])(ae.order.user.name),1),Object(r["createVNode"])("p",null,"付款方式: "+Object(r["toDisplayString"])(ae.order.user.payment_method),1)]),Object(r["createVNode"])("div",ce,[Object(r["createVNode"])(de,{to:"/dino-park/store",class:"btn btn-primary w-75"},{default:Object(r["withCtx"])((function(){return[re]})),_:1})])])])])])):(Object(r["openBlock"])(),Object(r["createBlock"])("div",s,[n,Object(r["createVNode"])("div",d,[Object(r["createVNode"])("div",i,[l,Object(r["createVNode"])("div",b,[Object(r["createVNode"])("table",u,[j,Object(r["createVNode"])("tbody",null,[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(se.productList,(function(t,c){return Object(r["openBlock"])(),Object(r["createBlock"])("tr",{key:t.id},[Object(r["createVNode"])("th",O,Object(r["toDisplayString"])(c+1),1),Object(r["createVNode"])("td",null,[Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.product.title)+" ",1),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(t.productSpecs,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])("span",{key:e}," ("+Object(r["toDisplayString"])(e.chosedSpec)+") ",1)})),128))]),Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(t.qty),1),Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(e.$toCurrency(t.total)),1)])})),128)),Object(r["createVNode"])("tr",p,[f,N,Object(r["createVNode"])("td",null,Object(r["toDisplayString"])(e.$toCurrency(this.discountTotal)),1)]),Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("td",V," 總計: NT$"+Object(r["toDisplayString"])(e.$toCurrency(Math.round(ae.order.total)))+" 元 ",1)])])])])]),Object(r["createVNode"])("div",h,[v,Object(r["createVNode"])("div",m,[Object(r["createVNode"])("table",y,[Object(r["createVNode"])("tbody",null,[Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("th",g,[k,Object(r["createVNode"])("span",w,Object(r["toDisplayString"])(ae.order.user.name),1)])]),Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("th",x,[S,Object(r["createVNode"])("span",B,Object(r["toDisplayString"])(ae.order.user.email),1)])]),Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("th",D,[L,Object(r["createVNode"])("span",T,Object(r["toDisplayString"])(ae.order.user.tel),1)])]),Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("th",_,[C,Object(r["createVNode"])("span",E,Object(r["toDisplayString"])(ae.order.user.address),1)])]),Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("th",$,[F,Object(r["createVNode"])("span",P,Object(r["toDisplayString"])(ae.order.user.payment_method),1)])]),Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("th",q,[I,Object(r["createVNode"])("span",J,Object(r["toDisplayString"])(ae.order.user.is_paid?"已付款":"未付款"),1)])]),Object(r["createVNode"])("tr",null,[Object(r["createVNode"])("td",null,[Object(r["createVNode"])("button",{class:"btn btn-primary d-block ms-auto",type:"button",onClick:t[2]||(t[2]=function(){return se.checkout&&se.checkout.apply(se,arguments)})},"確認付款 ")])])])])])])])]))])],64)}c("07ac"),c("159b"),c("99af");var ae={data:function(){return{isLoading:!1,order:{products:{},user:{}},isPaid:!1}},computed:{productList:function(){return Object.values(this.order.products)},discountTotal:function(){var e=0;return this.productList.forEach((function(t){var c=t.total-t.final_total;e+=c})),e}},methods:{getOrder:function(e){var t=this;this.isLoading=!0;var c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jurassic","/order/").concat(e);this.$http.get(c).then((function(e){e.data.success?t.order=e.data.order:t.swal(e.data.message,"error"),t.isLoading=!1})).catch((function(e){return console.log(e)}))},checkout:function(){var e=this;this.isLoading=!0;var t=this.order.id,c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("jurassic","/pay/").concat(t);this.$http.post(c).then((function(t){t.data.success?e.isPaid=!0:e.swal(t.data.message,"error"),setTimeout((function(){e.isLoading=!1}),500)})).catch((function(e){return console.log(e)}))}},created:function(){var e=this.$route.params.orderId;this.getOrder(e)}};ae.render=oe;t["default"]=ae},"6f53":function(e,t,c){var r=c("83ab"),o=c("df75"),a=c("fc6a"),s=c("d1e7").f,n=function(e){return function(t){var c,n=a(t),d=o(n),i=d.length,l=0,b=[];while(i>l)c=d[l++],r&&!s.call(n,c)||b.push(e?[c,n[c]]:n[c]);return b}};e.exports={entries:n(!0),values:n(!1)}},b0c0:function(e,t,c){var r=c("83ab"),o=c("9bf2").f,a=Function.prototype,s=a.toString,n=/^\s*function ([^ (]*)/,d="name";r&&!(d in a)&&o(a,d,{configurable:!0,get:function(){try{return s.call(this).match(n)[1]}catch(e){return""}}})},b727:function(e,t,c){var r=c("0366"),o=c("44ad"),a=c("7b0b"),s=c("50c4"),n=c("65f0"),d=[].push,i=function(e){var t=1==e,c=2==e,i=3==e,l=4==e,b=6==e,u=7==e,j=5==e||b;return function(O,p,f,N){for(var V,h,v=a(O),m=o(v),y=r(p,f,3),g=s(m.length),k=0,w=N||n,x=t?w(O,g):c||u?w(O,0):void 0;g>k;k++)if((j||k in m)&&(V=m[k],h=y(V,k,v),e))if(t)x[k]=h;else if(h)switch(e){case 3:return!0;case 5:return V;case 6:return k;case 2:d.call(x,V)}else switch(e){case 4:return!1;case 7:d.call(x,V)}return b?-1:i||l?l:x}};e.exports={forEach:i(0),map:i(1),filter:i(2),some:i(3),every:i(4),find:i(5),findIndex:i(6),filterOut:i(7)}}}]);
//# sourceMappingURL=chunk-0c7c9833.44705fcf.js.map