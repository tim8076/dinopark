{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.object.values.js","webpack:///./node_modules/core-js/internals/object-to-array.js","webpack:///./src/views/backend/OrderList.vue","webpack:///./src/components/back/OrderModal.vue","webpack:///./src/components/back/OrderModal.vue?8238","webpack:///./src/views/backend/OrderList.vue?6961","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["$","$values","values","target","stat","O","DESCRIPTORS","objectKeys","toIndexedObject","propertyIsEnumerable","f","createMethod","TO_ENTRIES","it","key","keys","length","i","result","call","push","module","exports","entries","class","scope","width","role","aria-label","active","isLoading","ref","temp-order","tempOrder","modifyOrder","text","color","orders","type","deleteAllOrders","order","id","$dateFormat","create_at","$toCurrency","Math","round","total","is_paid","openModal","deleteOrder","pagination","getOrders","tabindex","data-bs-dismiss","for","sendOder","errors","products","product","title","qty","name","placeholder","rules","user","tel","email","address","rows","message","props","Object","required","emits","data","modal","computed","this","watch","methods","show","hideModal","hide","$emit","mounted","$refs","orderModal","render","components","Pagination","OrderModal","JSON","parse","stringify","page","api","$http","get","then","res","success","swal","put","current_page","swalComfirm","willDelete","isConfirmed","delete","created","defineProperty","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","match","error"],"mappings":"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","file":"js/chunk-3b923f06.18229c68.js","sourcesContent":["var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.es/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.es/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.es/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","<template>\r\n    <div class=\"order__list\">\r\n       <Loading v-model:active=\"isLoading\">\r\n                 <div class=\"loadingio-spinner-rolling-feeb69z48bi\">\r\n                  <div class=\"ldio-947txsafiul\">\r\n                    <div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n        </Loading>\r\n        <OrderModal ref=\"orderModal\"\r\n                    :temp-order=\"tempOrder\"\r\n                    @modify-order=\"modifyOrder\">\r\n        </OrderModal>\r\n        <div class=\"container p-5 border border-primary\">\r\n            <Alert :text=\"'刪除全部訂單，須經由園區主任簽核!!'\"\r\n                   :color=\"'primary'\">\r\n            </Alert>\r\n            <div class=\"d-flex justify-content-end align-items-center mb-3\">\r\n              <button class=\"btn btn-outline-primary\"\r\n                      :class=\"{ 'disabled' : !orders.length }\"\r\n                      type=\"button\"\r\n                      @click=\"deleteAllOrders\">\r\n                  刪除全部訂單\r\n              </button>\r\n            </div>\r\n            <div class=\"table-responsive fw-bold\">\r\n               <table class=\"table\">\r\n                  <thead>\r\n                      <tr class=\"table-light\">\r\n                          <th scope=\"col\" width=\"240\">訂單編號</th>\r\n                          <th scope=\"col\" width=\"120\">訂單日期</th>\r\n                          <th scope=\"col\" width=\"120\">訂單金額</th>\r\n                          <th scope=\"col\" width=\"120\">是否付款</th>\r\n                          <th scope=\"col\" width=\"120\">操作</th>\r\n                      </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                     <tr v-for=\"order in orders\" :key=\"order.id\">\r\n                         <td>{{ order.id }}</td>\r\n                         <td>{{ $dateFormat(order.create_at)}}</td>\r\n                         <td>NT$ {{ $toCurrency(Math.round(order.total)) }}</td>\r\n                         <td>\r\n                            <p v-if=\"order.is_paid\">已付款</p>\r\n                            <p v-else class=\"text-primary\">未付款</p>\r\n                         </td>\r\n                         <td>\r\n                             <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\r\n                              <button type=\"button\"\r\n                                      class=\"btn btn-outline-info\"\r\n                                      @click=\"openModal(order)\">\r\n                                      查看\r\n                              </button>\r\n                              <button type=\"button\"\r\n                                      class=\"btn btn-outline-danger\"\r\n                                      @click=\"deleteOrder(order.id)\">\r\n                                      刪除\r\n                              </button>\r\n                            </div>\r\n                         </td>\r\n                     </tr>\r\n                  </tbody>\r\n              </table>\r\n            </div>\r\n            <Pagination :pagination=\"pagination\"\r\n                        @change-page=\"getOrders\">\r\n            </Pagination>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport Pagination from '../../components/Pagination.vue'\r\nimport OrderModal from '../../components/back/OrderModal.vue'\r\nexport default {\r\n  data () {\r\n    return {\r\n      isLoading: false,\r\n      orders: [],\r\n      pagination: {},\r\n      tempOrder: {}\r\n    }\r\n  },\r\n  components: {\r\n    Pagination,\r\n    OrderModal\r\n  },\r\n  methods: {\r\n    openModal (order) {\r\n      this.tempOrder = JSON.parse(JSON.stringify(order))\r\n      this.$refs.orderModal.openModal()\r\n    },\r\n    getOrders (page = 1) {\r\n      this.isLoading = true\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/orders?page=${page}`\r\n      this.$http.get(api)\r\n        .then(res => {\r\n          if (res.data.success) {\r\n            const { orders, pagination } = res.data\r\n            this.orders = orders\r\n            this.pagination = pagination\r\n          } else {\r\n            this.swal(res.data.message, 'error')\r\n          }\r\n          this.isLoading = false\r\n        })\r\n    },\r\n    modifyOrder (order) {\r\n      this.isLoading = true\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/order/${order.id}`\r\n      this.$http.put(api, {\r\n        data: order\r\n      })\r\n        .then(res => {\r\n          if (res.data.success) {\r\n            this.getOrders(this.pagination.current_page)\r\n            this.swal(res.data.message)\r\n          } else {\r\n            this.swal(res.data.message, 'error')\r\n          }\r\n          this.isLoading = false\r\n          this.$refs.orderModal.hideModal()\r\n        })\r\n    },\r\n    deleteOrder (id) {\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/order/${id}`\r\n      this.swalComfirm('確認刪除訂單?')\r\n        .then(willDelete => {\r\n          if (willDelete.isConfirmed) {\r\n            this.isLoading = true\r\n            this.$http.delete(api)\r\n              .then(res => {\r\n                if (res.data.success) {\r\n                  this.getOrders(this.pagination.current_page)\r\n                  this.swal(res.data.message)\r\n                } else {\r\n                  this.swal(res.data.message, 'error')\r\n                }\r\n                this.isLoading = false\r\n              })\r\n          }\r\n        })\r\n    },\r\n    deleteAllOrders () {\r\n      const api = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/admin/orders/all`\r\n      this.swalComfirm('確認刪除全部訂單?')\r\n        .then(willDelete => {\r\n          if (willDelete.isConfirmed) {\r\n            this.isLoading = true\r\n            this.$http.delete(api)\r\n              .then(res => {\r\n                if (res.data.success) {\r\n                  this.getOrders(this.pagination.current_page)\r\n                  this.swal(res.data.message)\r\n                } else {\r\n                  this.swal(res.data.message, 'error')\r\n                }\r\n                this.isLoading = false\r\n              })\r\n          }\r\n        })\r\n    }\r\n  },\r\n  created () {\r\n    this.getOrders()\r\n  }\r\n}\r\n</script>\r\n","<template>\r\n    <div class=\"modal fade\"\r\n         id=\"orderModal\"\r\n         ref=\"orderModal\"\r\n         tabindex=\"-1\">\r\n    <div class=\"modal-dialog modal-lg\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header bg-secondary\">\r\n                <h5 class=\"modal-title\" id=\"orderModalLabel\">修改訂單資訊</h5>\r\n                <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n            </div>\r\n            <Form v-slot=\"{ errors }\" @submit=\"sendOder\">\r\n              <div class=\"modal-body\">\r\n                  <div class=\"container-fluid\">\r\n                      <div class=\"row\">\r\n                          <div class=\"mb-3\">\r\n                            <p>訂單日期:\r\n                              <span class=\"ms-3\">{{ $dateFormat(order.create_at)}}</span>\r\n                            </p>\r\n                            <p class=\"d-flex\">\r\n                              <span>訂購商品:</span>\r\n                              <ol class=\"p-0 ms-3 mb-0\">\r\n                                <li v-for=\"product in products\" :key=\"product.id\">\r\n                                  {{ product.product.title }} * {{ product.qty }}\r\n                                </li>\r\n                              </ol>\r\n                            </p>\r\n                            <p>訂單金額:\r\n                              <span class=\"ms-3\">NT$ {{ $toCurrency(Math.round(order.total)) }}</span>\r\n                            </p>\r\n                          </div>\r\n                          <div class=\"col-md-6 mb-3\">\r\n                              <label for=\"name\" class=\"form-label\">訂購人姓名</label>\r\n                              <Field  id=\"name\"\r\n                                      name=\"姓名\"\r\n                                      type=\"text\"\r\n                                      class=\"form-control\"\r\n                                      :class=\"{ 'is-invalid': errors['姓名'] }\"\r\n                                      placeholder=\"請輸入 訂購人姓名\"\r\n                                      rules=\"required\"\r\n                                      v-model=\"order.user.name\">\r\n                              </Field>\r\n                              <error-message name=\"姓名\" class=\"invalid-feedback\"></error-message>\r\n                          </div>\r\n                          <div class=\"col-md-6 mb-3\">\r\n                              <label for=\"tel\" class=\"form-label\">電話</label>\r\n                              <Field  id=\"tel\"\r\n                                      name=\"電話\"\r\n                                      type=\"number\"\r\n                                      class=\"form-control\"\r\n                                      :class=\"{ 'is-invalid': errors['電話'] }\"\r\n                                      placeholder=\"請輸入電話\"\r\n                                      rules=\"min:9|required\"\r\n                                      v-model=\"order.user.tel\">\r\n                              </Field>\r\n                              <error-message name=\"電話\" class=\"invalid-feedback\"></error-message>\r\n                          </div>\r\n                          <div class=\"mb-3\">\r\n                              <label for=\"email\" class=\"form-label\">Email</label>\r\n                              <Field  id=\"email\"\r\n                                      name=\"信箱\"\r\n                                      type=\"email\"\r\n                                      class=\"form-control\"\r\n                                      :class=\"{ 'is-invalid': errors['信箱'] }\"\r\n                                      placeholder=\"請輸入 Email\"\r\n                                      rules=\"email|required\"\r\n                                      v-model=\"order.user.email\">\r\n                              </Field>\r\n                              <error-message name=\"信箱\" class=\"invalid-feedback\"></error-message>\r\n                          </div>\r\n                          <div class=\"mb-3\">\r\n                              <label for=\"address\" class=\"form-label\">地址</label>\r\n                              <Field  id=\"address\"\r\n                                      name=\"地址\"\r\n                                      type=\"text\"\r\n                                      class=\"form-control\"\r\n                                      :class=\"{ 'is-invalid': errors['地址'] }\"\r\n                                      placeholder=\"請輸入地址\"\r\n                                      rules=\"required\"\r\n                                      v-model=\"order.user.address\">\r\n                              </Field>\r\n                              <error-message name=\"地址\" class=\"invalid-feedback\"></error-message>\r\n                          </div>\r\n                          <div class=\"mb-3\">\r\n                            <label for=\"comment\" class=\"form-label\">留言</label>\r\n                            <textarea class=\"form-control\"\r\n                                      id=\"comment\" rows=\"3\"\r\n                                      v-model.trim=\"order.message\">\r\n                            </textarea>\r\n                          </div>\r\n                      </div>\r\n                  </div>\r\n              </div>\r\n              <div class=\"modal-footer\">\r\n                  <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">取消</button>\r\n                  <button type=\"submit\" class=\"btn btn-info\">確認</button>\r\n              </div>\r\n            </Form>\r\n        </div>\r\n    </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport Modal from 'bootstrap/js/dist/modal'\r\nexport default {\r\n  props: {\r\n    tempOrder: {\r\n      type: Object,\r\n      required: true\r\n    }\r\n  },\r\n  emits: ['modify-order'],\r\n  data () {\r\n    return {\r\n      modal: {},\r\n      order: {\r\n        products: {},\r\n        user: {}\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    products () {\r\n      return Object.values(this.order.products)\r\n    }\r\n  },\r\n  watch: {\r\n    tempOrder () {\r\n      this.order = this.tempOrder\r\n    }\r\n  },\r\n  methods: {\r\n    openModal () {\r\n      this.modal.show()\r\n    },\r\n    hideModal () {\r\n      this.modal.hide()\r\n    },\r\n    sendOder () {\r\n      this.order.products = this.products\r\n      this.$emit('modify-order', this.order)\r\n    }\r\n  },\r\n  mounted () {\r\n    this.modal = new Modal(this.$refs.orderModal)\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./OrderModal.vue?vue&type=template&id=19d1ed66\"\nimport script from \"./OrderModal.vue?vue&type=script&lang=js\"\nexport * from \"./OrderModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./OrderList.vue?vue&type=template&id=50e25073\"\nimport script from \"./OrderList.vue?vue&type=script&lang=js\"\nexport * from \"./OrderList.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}